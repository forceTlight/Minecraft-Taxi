### 택시 플러그인

## API : Spigot 1.12.2
# Command
* 모든 명령어는 OP전용.

- /택시설정 - 명령어 나열
- /택시설정 호출권 - 손에 들고 있는 아이템을 1회용 택시 호출권으로 지정. 
- /택시설정 위치 [1~2] - 지정된 모델의 서있는 위치를 택시호출 장소로 지정함. (번호는 등록순으로 자동 배정)
- /택시설정 위치목록 - 택시가 생성된 위치 좌표랑 번호 표시함.
- /택시설정 위치삭제 [int] - 해당 번호의 위치를 제거함. (메인, 데코 모델 둘다 / 메인 데코 번호가 똑같을 때만 실행 됨)
- /택시설정 모델지정 [1~2] - 손에 들고 있는 아이템을 <int>번 아머스탠드 머리위에 쓰일 모델로 지정함.
  -└ 1번 - 메인 택시 모델. 
  -└ 2번 - (데코용) - 2번 모델. (#해당 모델의 아머스탠드 클릭 시, 콘솔 권한으로 [/npctalk taxi <name>] 입력.
  (강제)
- /택시호출 - 소모권이 없더라도 해당 위치에서 택시를 부름.
(연동용)
- /강제택시호출중단 [name] - 강제적으로 호출한 택시, 혹은 이미 택시를 호출했을 경우 취소시킴. (이 경우, 호출권을 소모하지 않음)
# Model
-아머스탠드: 투명화 적용. 머리엔 각 모델별 지정된 아이템 등록.
-1번 위치 : 플레이어가 설치한 
-2번 위치 :
* (사진참조)
# Hologram
- 설정된 위치로부터 약 y 2.5 블럭 위에 생성.
- line 1 "&6 [ &c&lTAXI &8/ &f대기중 &6] "
- line 2 "&7택시 호출: &c<닉네임>"
- line 3 "&6남은 대기시간: &c&l<남은시간>&c초"
# TaxiClickEvent
-1번 모델이 적용된 아머스탠드를 클릭 시,
-콘솔권한으로 [/speedtaxi <name>] 입력 후,
-소환된 모델, 보스바, 홀로그램 등을 모두 제거하고 택시콜을 끝냄.
# TaxiCall
-택시호출 명령어 혹은 택시호출권으로 지정한 아이템을 우클릭 시,
-콘솔 권한으로 [/taxicall <name>] 입력되고
-'10틱'간 대기 시간을 가진 다음, 애니메이션이 적용된 타이틀을 계속 띄움.
- > TITLE "&c택시를 호출 중입니다"
-    └ 모션(3틱 간격으로 반복) : "&c택시를 호출 중입니다" → "&c택시를 호출 중입니다." → "&c택시를 호출 중입니다. ." → "&c택시를 호출 중입니다. . ."
-콘솔 권한으로 [/npctalk calltaxi <name>] 입력 후,
-5초 뒤, 택시 호출 타이틀을 중단하고,
-보스바를 띄운 후 택시를 호출한 위치를 기준으로 가장 가까운 위치에
- > BOSSBAR "&6[ &c&lTAXI &6] &f택시가 대기중입니다! &7< &6거리: &e%남은거리(블럭단위)%블럭 &8/ &6남은시간: &c%남은대기시간%초&7>"
-'#택시 모델'을 불러옴.
-└ 동시에 택시호출권을 하나 소모 시킴. (! 만약, 택시호출 명령어로 호출 시켰을 경우, X)
-└ 이때 남은 시간이 적용 되고, 해당 시간 안에 미탑승 시, 타이틀을 전송하고 생성 된 택시를 제거함.
-   └ #남은 시간 관련: 
-       기본남은 시간 30초에 거리만큼 +되어서
-       거리 20블럭이상 : + 10초
-       거리 40블럭 이상 : + 20초
-       거리 60 블럭 이상 : + 50초
-       거리 100 블럭 이상 : + 90초


-> 만약 택시를 호출했을 때, 가장 가까운 택시호출 위치에 
-   이미 다른 플레이어가 택시를 대기시켜두고 있을 경우,
-   메시지를 전송하고 캔슬.
-   MESSAGE "&c- 인근 위치에 다른 플레이어가 이미 택시를 호출하여 취소되었습니다. &7기다리시거나, 다른 곳에서 재시도 하십시오."

# Debug
- 서버가 열렸을 때, 모든 택시 호출 위치를 불러와 잔여 택시 모델 아머스탠드 혹은 홀로그램 등이 있을 경우, 제거.
- 택시가 대기중에, 플레이어가 퇴장할 경우 택시 호출을 중단 시키며 택시를 중단 시킴.
